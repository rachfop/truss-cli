"use strict";(self.webpackChunkmy_truss_docs=self.webpackChunkmy_truss_docs||[]).push([[308],{3765:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>M,contentTitle:()=>A,default:()=>L,frontMatter:()=>F,metadata:()=>n,toc:()=>U});const n=JSON.parse('{"id":"index","title":"Use Custom Docker Images in Truss","description":"By default, Truss uses pre-built base images from baseten/truss-server-base that are optimized for ML workloads.","source":"@site/docs/index.mdx","sourceDirName":".","slug":"/","permalink":"/","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Use Custom Docker Images in Truss"},"sidebar":"mainSidebar","next":{"title":"Use Custom Docker Images in Truss","permalink":"/main"}}');var t=r(4848),i=r(8453),o=r(6540),a=r(8215),c=r(6972),l=r(8774),u=r(4586),d=["zero","one","two","few","many","other"];function m(e){return d.filter(function(s){return e.includes(s)})}var h={locale:"en",pluralForms:m(["one","other"]),select:function(e){return 1===e?"one":"other"}};function f(){var e=(0,u.A)().i18n.currentLocale;return(0,o.useMemo)(function(){try{return s=e,r=new Intl.PluralRules(s),{locale:s,pluralForms:m(r.resolvedOptions().pluralCategories),select:function(e){return r.select(e)}}}catch(n){return console.error('Failed to use Intl.PluralRules for locale "'+e+'".\nDocusaurus will fallback to the default (English) implementation.\nError: '+n.message+"\n"),h}var s,r},[e])}function p(){var e=f();return{selectMessage:function(s,r){return function(e,s,r){var n=e.split("|");if(1===n.length)return n[0];n.length>r.pluralForms.length&&console.error("For locale="+r.locale+", a maximum of "+r.pluralForms.length+" plural forms are expected ("+r.pluralForms.join(",")+"), but the message contains "+n.length+": "+e);var t=r.select(s),i=r.pluralForms.indexOf(t);return n[Math.min(i,n.length-1)]}(r,s,e)}}}var x=r(6654),g=r(1312),j=r(1107);const v={cardContainer:"cardContainer_fWXF",cardTitle:"cardTitle_rnsV",cardDescription:"cardDescription_PWke"};function b(e){var s=e.className,r=e.href,n=e.children;return(0,t.jsx)(l.A,{href:r,className:(0,a.A)("card padding--lg",v.cardContainer,s),children:n})}function k(e){var s=e.className,r=e.href,n=e.icon,i=e.title,o=e.description;return(0,t.jsxs)(b,{href:r,className:s,children:[(0,t.jsxs)(j.A,{as:"h2",className:(0,a.A)("text--truncate",v.cardTitle),title:i,children:[n," ",i]}),o&&(0,t.jsx)("p",{className:(0,a.A)("text--truncate",v.cardDescription),title:o,children:o})]})}function w(e){var s,r,n=e.item,i=(0,c.Nr)(n),o=(r=p().selectMessage,function(e){return r(e,(0,g.T)({message:"1 item|{count} items",id:"theme.docs.DocCard.categoryDescription.plurals",description:"The default description for a category card in the generated index about how many items this category includes"},{count:e}))});return i?(0,t.jsx)(k,{className:n.className,href:i,icon:"\ud83d\uddc3\ufe0f",title:n.label,description:null!=(s=n.description)?s:o(n.items.length)}):null}function y(e){var s,r,n=e.item,i=(0,x.A)(n.href)?"\ud83d\udcc4\ufe0f":"\ud83d\udd17",o=(0,c.cC)(null!=(s=n.docId)?s:void 0);return(0,t.jsx)(k,{className:n.className,href:n.href,icon:i,title:n.label,description:null!=(r=n.description)?r:null==o?void 0:o.description})}function C(e){var s=e.item;switch(s.type){case"link":return(0,t.jsx)(y,{item:s});case"category":return(0,t.jsx)(w,{item:s});default:throw new Error("unknown item type "+JSON.stringify(s))}}const N={docCardListItem:"docCardListItem_W1sv"};function D(e){var s=e.className,r=(0,c.a4)();return(0,t.jsx)(I,{items:r,className:s})}function T(e){var s=e.item;return(0,t.jsx)("article",{className:(0,a.A)(N.docCardListItem,"col col--6"),children:(0,t.jsx)(C,{item:s})})}function I(e){var s=e.items,r=e.className;if(!s)return(0,t.jsx)(D,Object.assign({},e));var n=(0,c.d1)(s);return(0,t.jsx)("section",{className:(0,a.A)("row",r),children:n.map(function(e,s){return(0,t.jsx)(T,{item:e},s)})})}const F={title:"Use Custom Docker Images in Truss"},A="Use Custom Docker Images in Truss",M={},U=[];function _(e){const s={a:"a",br:"br",code:"code",h1:"h1",header:"header",li:"li",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.header,{children:(0,t.jsx)(s.h1,{id:"use-custom-docker-images-in-truss",children:"Use Custom Docker Images in Truss"})}),"\n",(0,t.jsxs)(s.p,{children:["By default, Truss uses pre-built base images from ",(0,t.jsx)(s.a,{href:"https://hub.docker.com/r/baseten/truss-server-base",children:(0,t.jsx)(s.code,{children:"baseten/truss-server-base"})})," that are optimized for ML workloads.",(0,t.jsx)(s.br,{}),"\n","These images come in different variants for Python versions (3.9, 3.10, 3.11) and include GPU support when needed."]}),"\n",(0,t.jsxs)(s.p,{children:["The default images are Debian-based and include common dependencies like build tools, Git, and cURL. For most workloads, this is sufficient \u2014 however, there are times when you need to use a ",(0,t.jsx)(s.strong,{children:"custom Docker image"}),"."]}),"\n",(0,t.jsx)(s.p,{children:"You should consider using a custom Docker image when:"}),"\n",(0,t.jsxs)(s.ul,{children:["\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"You need specific system dependencies"})," not included in the default images"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"You want to use a different base OS"})," or distribution"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"You have pre-configured environments"})," from other projects"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"You need to optimize image size"})," for specific use cases"]}),"\n",(0,t.jsxs)(s.li,{children:[(0,t.jsx)(s.strong,{children:"You require specific versions"})," of system libraries or tools"]}),"\n"]}),"\n",(0,t.jsx)(I,{})]})}function L(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,t.jsx)(s,{...e,children:(0,t.jsx)(_,{...e})}):_(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>o,x:()=>a});var n=r(6540);const t={},i=n.createContext(t);function o(e){const s=n.useContext(i);return n.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);